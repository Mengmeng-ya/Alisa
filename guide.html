<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>New Zealand Travel Guide | TRAVEL NZ</title>
    <style>
        /* 通用样式 */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Segoe UI', sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        .btn {
            background: #4D8531;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            transition: background 0.3s;
        }
        .btn:hover {
            background: #3a6d26;
        }
        .btn-outline {
            background: transparent;
            color: #4D8531;
            border: 1px solid #4D8531;
        }

        /* 头部导航 */
        .header {
            background-color: #4D8531;
            padding: 15px 0;
        }
        .header-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .logo-text {
            color: white;
            font-weight: bold;
            font-size: 1.2rem;
        }
        .nav-menu {
            display: flex;
            list-style: none;
            gap: 20px;
        }
        .nav-menu a {
            color: white;
            text-decoration: none;
            padding: 5px 0;
            transition: opacity 0.3s;
        }
        .nav-menu a:hover {
            opacity: 0.8;
        }

        /* 主要内容 */
        .section-title {
            text-align: center;
            margin: 30px 0;
            color: #4D8531;
        }

        /* 筛选区域 */
        .filter-section {
            background: white;
            padding: 20px;
            margin-bottom: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .filter-row {
            display: flex;
            gap: 20px;
            margin-bottom: 15px;
        }
        .filter-group {
            flex: 1;
        }
        .filter-tags {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        .filter-tag {
            padding: 5px 15px;
            background: #f0f7f2;
            color: #4D8531;
            border-radius: 20px;
            cursor: pointer;
        }
        .filter-tag.active {
            background: #4D8531;
            color: white;
        }

        /* 行程卡片 */
        .itinerary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
        .itinerary-card {
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .itinerary-card.hidden {
            display: none;
        }
        .itinerary-img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            cursor: pointer;
        }
        .itinerary-info {
            padding: 15px;
        }
        .itinerary-title {
            color: #4D8531;
            margin-bottom: 10px;
        }
        .itinerary-rating {
            color: #ffc107;
            margin-bottom: 5px;
            font-size: 0.9rem;
        }
        .itinerary-meta {
            margin: 10px 0;
            font-size: 0.9rem;
            color: #666;
        }
        .itinerary-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        /* 行程详情 */
        .itinerary-detail {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 40px;
            display: none; /* 默认隐藏 */
        }
        .detail-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        .detail-close {
            cursor: pointer;
            font-size: 1.5rem;
            color: #999;
        }
        .detail-content {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 30px;
        }
        .detail-left {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        .detail-img {
            width: 100%;
            border-radius: 4px;
        }
        .detail-highlights {
            margin: 15px 0;
        }
        .detail-highlights h4 {
            color: #4D8531;
            margin-bottom: 10px;
        }
        .detail-highlights ul {
            padding-left: 20px;
        }
        .detail-highlights li {
            margin-bottom: 8px;
        }

        /* 评价区域 */
        .detail-right {
            background: #f9f9f9;
            padding: 15px;
            border-radius: 8px;
            max-height: 600px;
            overflow-y: auto;
        }
        .detail-right h4 {
            color: #4D8531;
            margin-bottom: 15px;
        }
        .review-item {
            background: white;
            padding: 15px;
            border-radius: 4px;
            margin-bottom: 15px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        .review-item:last-child {
            margin-bottom: 0;
        }

        /* Footer样式 */
        .footer {
            background-color: #4D8531;
            color: white;
            padding: 50px 0 30px;
            font-size: 14px;
        }

        .footer .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .footer-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 30px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            padding-bottom: 30px;
        }

        .footer-contact, .footer-hours, .footer-quicklinks {
            text-align: left;
        }

        .footer-title {
            font-weight: bold;
            margin-bottom: 18px;
            font-size: 18px;
            opacity: 1;
            position: relative;
            padding-bottom: 8px;
        }

        .footer-title::after {
            content: '';
            position: absolute;
            left: 0;
            bottom: 0;
            width: 40px;
            height: 2px;
            background-color: #E7F0C1;
        }

        .footer p {
            margin: 8px 0;
            opacity: 0.9;
            transition: opacity 0.3s ease;
        }

        .footer p:hover {
            opacity: 1;
        }

        .footer-link {
            color: white;
            text-decoration: none;
            opacity: 0.9;
            transition: all 0.3s ease;
        }

        .footer-link:hover {
            color: #E7F0C1;
            padding-left: 5px;
        }

        .footer-copyright {
            text-align: center;
            padding-top: 30px;
            font-size: 13px;
            opacity: 0.8;
        }

        .footer-copyright p {
            margin: 5px 0;
        }
    </style>
</head>
<body>
    <!-- 顶部导航栏 - 包含6个板块 -->
    <header class="header">
        <div class="header-container">
            <div class="logo-text">TRAVEL NZ - Pure Middle-earth, Amazing New Zealand</div> 
            <nav>
                <ul class="nav-menu">
                    <li><a href="index.html">Home</a></li> 
                    <li><a href="food.html">Food</a></li> 
                    <li><a href="attractions.html">Attractions</a></li> 
                    <li><a href="guide.html">Tour</a></li> 
                    <li><a href="message.html">Contact</a></li> 
                    <li><a href="login.html">Login</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="container">
        <h2 class="section-title">New Zealand Travel Guide</h2>
        
        <!-- 筛选区域 -->
        <div class="filter-section">
            <h3 style="color: #4D8531; margin-bottom: 15px;">Find Your Perfect Itinerary</h3>
            <div class="filter-row">
                <div class="filter-group">
                    <label>Duration</label>
                    <select id="duration" class="filter-select">
                        <option value="">All Durations</option>
                        <option value="3-5">3-5 Days</option>
                        <option value="6-8">6-8 Days</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label>Package Type</label>
                    <select id="package" class="filter-select">
                        <option value="">All Packages</option>
                        <option value="family">Family</option>
                        <option value="couple">Couple</option>
                        <option value="solo">Solo</option>
                        <option value="adventure">Adventure</option>
                        <option value="luxury">Luxury</option>
                    </select>
                </div>
            </div>
            <div class="filter-tags">
                <div class="filter-tag active" data-tag="north">North Island</div>
                <div class="filter-tag" data-tag="south">South Island</div>
                <div class="filter-tag" data-tag="both">Both Islands</div>
                <div class="filter-tag" data-tag="offpath">Off-the-Beaten-Path</div>
                <div class="filter-tag" data-tag="adventure">Adventure</div>
                <div class="filter-tag" data-tag="ski">Winter Ski</div>
            </div>
        </div>

        <!-- 行程卡片 - 共6个旅游计划 -->
        <div class="itinerary-grid">
            <!-- 1. 北岛5日经典游 -->
            <div class="itinerary-card" data-id="1" data-duration="5" data-type="family" data-tags="north">
                <img src="Auckland.jpg" alt="North Island" class="itinerary-img" data-id="1">
                <div class="itinerary-info">
                    <h3 class="itinerary-title">North Island 5-Day Classic</h3>
                    <div class="itinerary-rating">★★★★★ 4.8 (128 reviews)</div>
                    <div class="itinerary-meta">
                        <span>5 Days • ¥8,999 • Family Package</span>
                    </div>
                    <div class="itinerary-actions">
                        <button class="btn">Book Now</button>
                        <button class="btn btn-outline view-detail" data-id="1">Details</button>
                    </div>
                </div>
            </div>

            <!-- 2. 南岛5日深度游 -->
            <div class="itinerary-card" data-id="2" data-duration="5" data-type="couple" data-tags="south">
                <img src="Milford Sound.jpg" alt="South Island" class="itinerary-img" data-id="2">
                <div class="itinerary-info">
                    <h3 class="itinerary-title">South Island 5-Day In-Depth</h3>
                    <div class="itinerary-rating">★★★★★ 4.9 (96 reviews)</div>
                    <div class="itinerary-meta">
                        <span>5 Days • ¥10,999 • Couple Package</span>
                    </div>
                    <div class="itinerary-actions">
                        <button class="btn">Book Now</button>
                        <button class="btn btn-outline view-detail" data-id="2">Details</button>
                    </div>
                </div>
            </div>

            <!-- 3. 南北岛8日全景游 -->
            <div class="itinerary-card" data-id="3" data-duration="8" data-type="luxury" data-tags="both">
                <img src="Hobbiton.jpg" alt="Both Islands" class="itinerary-img" data-id="3">
                <div class="itinerary-info">
                    <h3 class="itinerary-title">8-Day Panoramic (Both Islands)</h3>
                    <div class="itinerary-rating">★★★★★ 4.9 (76 reviews)</div>
                    <div class="itinerary-meta">
                        <span>8 Days • ¥16,999 • Luxury Package</span>
                    </div>
                    <div class="itinerary-actions">
                        <button class="btn">Book Now</button>
                        <button class="btn btn-outline view-detail" data-id="3">Details</button>
                    </div>
                </div>
            </div>

            <!-- 4. 小众秘境6日游 -->
            <div class="itinerary-card" data-id="4" data-duration="6" data-type="solo" data-tags="south offpath">
                <img src="Moeraki Boulders.jpg" alt="Off-the-Beaten-Path" class="itinerary-img" data-id="4">
                <div class="itinerary-info">
                    <h3 class="itinerary-title">Off-the-Beaten-Path 6-Day</h3>
                    <div class="itinerary-rating">★★★★★ 4.7 (58 reviews)</div>
                    <div class="itinerary-meta">
                        <span>6 Days • ¥12,999 • Solo Traveler</span>
                    </div>
                    <div class="itinerary-actions">
                        <button class="btn">Book Now</button>
                        <button class="btn btn-outline view-detail" data-id="4">Details</button>
                    </div>
                </div>
            </div>

            <!-- 5. 皇后镇冒险6日游 -->
            <div class="itinerary-card" data-id="5" data-duration="6" data-type="adventure" data-tags="south adventure">
                <img src="queenstown.jpg" alt="Queenstown Adventure" class="itinerary-img" data-id="5">
                <div class="itinerary-info">
                    <h3 class="itinerary-title">Queenstown Adventure 6-Day</h3>
                    <div class="itinerary-rating">★★★★★ 4.8 (64 reviews)</div>
                    <div class="itinerary-meta">
                        <span>6 Days • ¥13,999 • Adventure Package</span>
                    </div>
                    <div class="itinerary-actions">
                        <button class="btn">Book Now</button>
                        <button class="btn btn-outline view-detail" data-id="5">Details</button>
                    </div>
                </div>
            </div>

            <!-- 6. 新西兰冬季滑雪8日游 -->
            <div class="itinerary-card" data-id="6" data-duration="8" data-type="family" data-tags="south ski">
                <img src="Lake Tekapo.jpg" alt="NZ Winter Ski" class="itinerary-img" data-id="6">
                <div class="itinerary-info">
                    <h3 class="itinerary-title">NZ Winter Ski 8-Day</h3>
                    <div class="itinerary-rating">★★★★★ 4.9 (42 reviews)</div>
                    <div class="itinerary-meta">
                        <span>8 Days • ¥18,999 • Family/Group</span>
                    </div>
                    <div class="itinerary-actions">
                        <button class="btn">Book Now</button>
                        <button class="btn btn-outline view-detail" data-id="6">Details</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- 行程详情区域 -->
        <div id="detailContainer" class="itinerary-detail">
            <div class="detail-header">
                <h2 id="detailTitle"></h2>
                <div class="detail-close" id="closeDetail">×</div>
            </div>
            <div class="detail-content">
                <div class="detail-left">
                 <img id="detailImage" class="detail-img" src="placeholder.jpg" alt="行程详情图片">
                    <div id="detailMeta" class="itinerary-meta"></div>
                    <div class="detail-highlights">
                        <h4>Highlights</h4>
                        <ul id="detailHighlights"></ul>
                    </div>
                    <div class="detail-highlights">
                        <h4>Daily Itinerary</h4>
                        <div id="detailDaily"></div>
                    </div>
                    <button class="btn" style="margin-top: 15px;">Book Now</button>
                </div>
                <div class="detail-right">
                    <h4>Reviews</h4>
                    <div id="detailReviews"></div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-info">
                <div class="footer-contact">
                    <p class="footer-title">Contact Us</p>
                    <p>24/7 Customer Service: +64 9 876 5432</p>
                    <p>Email: <a href="mailto:service@travelnz.com" class="footer-link">service@travelnz.com</a></p>
                    <p>WeChat: TravelNZ_2025</p>
                </div>
                <div class="footer-hours">
                    <p class="footer-title">Service Hours</p>
                    <p>Mon-Fri: 9:00 - 21:00</p>
                    <p>Sat-Sun: 10:00 - 18:00</p>
                    <p>Public Holidays: 10:00 - 16:00</p>
                </div>
                <div class="footer-quicklinks">
                    <p class="footer-title">Quick Links</p>
                    <p><a href="index.html" class="footer-link">Home</a></p>
                    <p><a href="guide.html" class="footer-link">Tours</a></p>
                    <p><a href="message.html" class="footer-link">Contact&nbsp;</a></p>
                </div>
            </div>
            <div class="footer-copyright">
                <p>Copyright © 2025 TRAVEL NZ. All rights reserved. 2023404030209-Alisa&nbsp;</p>
                <p>Designed with ❤️ for your New Zealand journey</p>
            </div>
        </div>
    </footer>

    <script>
        // 完整的6个旅游计划数据
        const itineraries = {
            1: {
                title: "North Island 5-Day Classic",
                image: "Auckland.jpg",
                meta: "5 Days 4 Nights • ¥8,999 per person • Family Package",
                highlights: [
                    "Explore Auckland's urban and natural landscapes",
                    "Visit Hobbiton Movie Set from Lord of the Rings",
                    "Experience Waitomo Glowworm Caves",
                    "Discover Rotorua's geothermal wonders",
                    "Enjoy Lake Taupo views and hot springs"
                ],
                daily: `
                    <p><strong>Day 1:</strong> Arrive in Auckland, explore Mount Eden and Sky Tower</p>
                    <p><strong>Day 2:</strong> Hobbiton and Waitomo Caves day trip</p>
                    <p><strong>Day 3:</strong> Rotorua geothermal experiences and Maori culture</p>
                    <p><strong>Day 4:</strong> Lake Taupo and Huka Falls exploration</p>
                    <p><strong>Day 5:</strong> Return to Auckland via Hamilton Gardens</p>
                `,
                reviews: [
                    { name: "Zhang Family", date: "2025-04-15", text: "Perfect family trip! Our kids loved Hobbiton and the glowworm caves. The itinerary was well-paced with enough rest time between activities." },
                    { name: "David & Lisa", date: "2025-03-22", text: "We were impressed by the knowledgeable guides, especially in Rotorua where we learned so much about Maori culture." }
                ]
            },
            2: {
                title: "South Island 5-Day In-Depth",
                image: "Milford Sound.jpg",
                meta: "5 Days 4 Nights • ¥10,999 per person • Couple Package",
                highlights: [
                    "Whale watching in Kaikoura",
                    "Marlborough wine tasting",
                    "Queenstown adventure activities",
                    "Glenorchy Lord of the Rings locations",
                    "Milford Sound cruise"
                ],
                daily: `
                    <p><strong>Day 1:</strong> Christchurch to Kaikoura</p>
                    <p><strong>Day 2:</strong> Whale watching and Marlborough transfer</p>
                    <p><strong>Day 3:</strong> Marlborough wine tour</p>
                    <p><strong>Day 4:</strong> Drive to Queenstown</p>
                    <p><strong>Day 5:</strong> Glenorchy day trip</p>
                `,
                reviews: [
                    { name: "Emma & James", date: "2025-05-02", text: "The South Island is breathtaking! We saw 3 whales during our Kaikoura tour which was incredible. The wine tasting in Marlborough was a highlight." },
                    { name: "Robert", date: "2025-04-18", text: "The scenery from Christchurch to Queenstown is some of the best I've ever seen." }
                ]
            },
            3: {
                title: "8-Day Panoramic (Both Islands)",
                image: "Hobbiton.jpg",
                meta: "8 Days 7 Nights • ¥16,999 per person • Luxury Package",
                highlights: [
                    "Comprehensive North & South Island experience",
                    "Boutique accommodation",
                    "Gourmet dining",
                    "Helicopter glacier tours",
                    "Iconic movie locations"
                ],
                daily: `
                    <p><strong>Days 1-3:</strong> North Island exploration (Auckland, Hobbiton, Rotorua)</p>
                    <p><strong>Day 4:</strong> Flight to South Island, Christchurch arrival</p>
                    <p><strong>Days 5-7:</strong> Queenstown and Fiordland exploration</p>
                    <p><strong>Day 8:</strong> Christchurch departure</p>
                `,
                reviews: [
                    { name: "Sophia & Daniel", date: "2025-03-10", text: "This was our honeymoon trip and it exceeded all expectations! The helicopter ride over the glaciers was unforgettable." },
                    { name: "Wilson Family", date: "2025-02-28", text: "We chose this package for our multi-generational family trip and it worked perfectly." }
                ]
            },
            4: {
                title: "Off-the-Beaten-Path 6-Day",
                image: "Moeraki Boulders.jpg",
                meta: "6 Days 5 Nights • ¥12,999 per person • Solo Traveler",
                highlights: [
                    "Explore lesser-known gems away from tourist crowds",
                    "Hike through ancient rainforests and secret waterfalls",
                    "Stay in eco-lodges and local homestays",
                    "Stargazing in world's darkest sky reserves",
                    "Interact with local artisans"
                ],
                daily: `
                    <p><strong>Day 1:</strong> Arrive in Dunedin, explore historic city center</p>
                    <p><strong>Day 2:</strong> Drive to Te Anau, Kepler Track short walks</p>
                    <p><strong>Day 3:</strong> Explore Mavora Lakes (Lord of the Rings filming location)</p>
                    <p><strong>Day 4:</strong> Head to Wanaka, discover alternative hikes</p>
                    <p><strong>Day 5:</strong> Visit Arrowtown's historic goldmining village</p>
                    <p><strong>Day 6:</strong> Return to Dunedin via Catlins Coast</p>
                `,
                reviews: [
                    { name: "Alex", date: "2025-05-12", text: "As someone who hates crowds, this itinerary was perfect! I got to see parts of New Zealand that most tourists never experience." },
                    { name: "Jenny", date: "2025-04-30", text: "The local homestay was a highlight - our host taught us how to cook traditional Kiwi dishes." }
                ]
            },
            5: {
                title: "Queenstown Adventure 6-Day",
                image: "queenstown.jpg",
                meta: "6 Days 5 Nights • ¥13,999 per person • Adventure Package",
                highlights: [
                    "Bungy jump from Kawarau Bridge",
                    "Skydiving over Queenstown's Remarkables",
                    "Jet boating through Shotover River canyons",
                    "Heli-hiking on Franz Josef Glacier",
                    "Kayaking on Lake Wakatipu at sunset"
                ],
                daily: `
                    <p><strong>Day 1:</strong> Arrive in Queenstown, orientation tour</p>
                    <p><strong>Day 2:</strong> Kawarau Bridge bungy jump and jet boat adventure</p>
                    <p><strong>Day 3:</strong> Skydiving experience followed by hot springs</p>
                    <p><strong>Day 4:</strong> Heli-hiking tour on Franz Josef Glacier</p>
                    <p><strong>Day 5:</strong> Guided kayak trip and optional canyon swing</p>
                    <p><strong>Day 6:</strong> Morning luge ride and departure</p>
                `,
                reviews: [
                    { name: "Tom & Mike", date: "2025-05-08", text: "This trip was packed with adrenaline! The bungy jump was terrifying but amazing, and skydiving over Queenstown is unforgettable." },
                    { name: "Linda", date: "2025-04-22", text: "I was nervous about some of the activities but the instructors were fantastic. The heli-hiking on Franz Josef Glacier was the highlight." }
                ]
            },
            6: {
                title: "NZ Winter Ski 8-Day",
                image: "Lake Tekapo.jpg",
                meta: "8 Days 7 Nights • ¥18,999 per person • Family/Group",
                highlights: [
                    "Ski at three world-class resorts",
                    "Professional ski lessons for all levels",
                    "Helicopter access to backcountry powder",
                    "Après-ski at mountain hot pools",
                    "Snowmobiling and ice skating activities"
                ],
                daily: `
                    <p><strong>Day 1:</strong> Arrive in Queenstown, equipment fitting</p>
                    <p><strong>Day 2-3:</strong> Skiing at Coronet Peak with hot pool relaxation</p>
                    <p><strong>Day 4:</strong> Transfer to Wanaka, skiing at Cardrona</p>
                    <p><strong>Day 5-6:</strong> Skiing at Treble Cone with Lake Wanaka views</p>
                    <p><strong>Day 7:</strong> Transfer to Christchurch, skiing at Mt Hutt</p>
                    <p><strong>Day 8:</strong> Snowmobiling adventure and departure</p>
                `,
                reviews: [
                    { name: "Chen Family", date: "2025-08-15", text: "We're a family of skiers with different abilities and this trip catered to everyone perfectly. The ski instructors were excellent with our children." },
                    { name: "Ski Enthusiasts Group", date: "2025-07-28", text: "The backcountry helicopter skiing was worth every extra penny - the powder was incredible." }
                ]
            }
        };

        // DOM元素
        const detailContainer = document.getElementById('detailContainer');
        const detailTitle = document.getElementById('detailTitle');
        const detailImage = document.getElementById('detailImage');
        const detailMeta = document.getElementById('detailMeta');
        const detailHighlights = document.getElementById('detailHighlights');
        const detailDaily = document.getElementById('detailDaily');
        const detailReviews = document.getElementById('detailReviews');
        const closeDetail = document.getElementById('closeDetail');
        const viewDetailBtns = document.querySelectorAll('.view-detail');
        const itineraryImgs = document.querySelectorAll('.itinerary-img');

        // 显示行程详情
        function showDetail(id) {
            if (!itineraries[id]) {
                console.error('No itinerary found with id:', id);
                return;
            }

            const data = itineraries[id];
            
            // 填充详情数据
            detailTitle.textContent = data.title;
            detailImage.src = data.image;
            detailMeta.textContent = data.meta;
            
            // 填充亮点
            detailHighlights.innerHTML = '';
            data.highlights.forEach(item => {
                const li = document.createElement('li');
                li.textContent = item;
                detailHighlights.appendChild(li);
            });
            
            // 填充每日行程
            detailDaily.innerHTML = data.daily;
            
            // 填充评价
            detailReviews.innerHTML = '';
            data.reviews.forEach(review => {
                const div = document.createElement('div');
                div.className = 'review-item';
                div.innerHTML = `
                    <strong>${review.name}</strong> <span style="color:#999; font-size:0.8rem;">${review.date}</span>
                    <p>${review.text}</p>
                `;
                detailReviews.appendChild(div);
            });
            
            // 显示详情容器
            detailContainer.style.display = 'block';
            detailContainer.scrollIntoView({ behavior: 'smooth' });
        }

        // 关闭详情
        function hideDetail() {
            detailContainer.style.display = 'none';
        }

        // 绑定详情按钮事件
        viewDetailBtns.forEach(btn => {
            btn.addEventListener('click', function() {
                const id = this.getAttribute('data-id');
                showDetail(id);
            });
        });

        // 绑定图片点击事件
        itineraryImgs.forEach(img => {
            img.addEventListener('click', function() {
                const id = this.getAttribute('data-id');
                showDetail(id);
            });
        });

        // 绑定关闭按钮事件
        closeDetail.addEventListener('click', hideDetail);

        // 筛选功能
        const durationFilter = document.getElementById('duration');
        const packageFilter = document.getElementById('package');
        const tagFilters = document.querySelectorAll('.filter-tag');
        const cards = document.querySelectorAll('.itinerary-card');

        function filterCards() {
            const duration = durationFilter.value;
            const pkgType = packageFilter.value;
            const activeTags = Array.from(tagFilters)
                .filter(tag => tag.classList.contains('active'))
                .map(tag => tag.getAttribute('data-tag'));

            cards.forEach(card => {
                const cardDuration = parseInt(card.getAttribute('data-duration'));
                const cardType = card.getAttribute('data-type');
                const cardTags = card.getAttribute('data-tags').split(' ');

                // 检查时长筛选
                let durationMatch = true;
                if (duration === '3-5') {
                    durationMatch = cardDuration >= 3 && cardDuration <= 5;
                } else if (duration === '6-8') {
                    durationMatch = cardDuration >= 6 && cardDuration <= 8;
                }

                // 检查套餐类型
                const typeMatch = !pkgType || cardType === pkgType;

                // 检查标签
                const tagMatch = activeTags.length === 0 || 
                    activeTags.some(tag => cardTags.includes(tag));

                // 显示或隐藏卡片
                card.classList.toggle('hidden', !(durationMatch && typeMatch && tagMatch));
            });
        }

        // 绑定筛选事件
        durationFilter.addEventListener('change', filterCards);
        packageFilter.addEventListener('change', filterCards);
        tagFilters.forEach(tag => {
            tag.addEventListener('click', function() {
                this.classList.toggle('active');
                filterCards();
            });
        });
    </script>
</body>
</html>